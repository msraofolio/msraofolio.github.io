<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ page.title }} | {{ site.title }}</title>
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="stylesheet" href="/assets/css/custom.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>

  <div class="layout">

    <!-- Left Column: Header + Sidebar Navigation -->
    <div class="sidebar-column">
      <header class="site-header">
        <h1>{{ site.title }}</h1>
        <a href="https://www.linkedin.com/in/malavikasrao" target="_blank" rel="noopener noreferrer" class="linkedin-link" aria-label="LinkedIn Profile">
          <i class="fab fa-linkedin"></i>
        </a>
      </header>

      <nav class="sidebar">

      <ul>
        <li>
          <a href="{{ '/' | relative_url }}"
             class="{% if page.url == '/' %}active{% endif %}">
             Home
          </a>
        </li>

        <li>
          <a href="{{ '/portfolio/' | relative_url }}"
             class="{% if page.url == '/portfolio/' %}active{% endif %}">
             Portfolio
          </a>
        </li>

        <li>
          <a href="{{ '/case-studies/api-integration/' | relative_url }}"
             class="{% if page.url == '/case-studies/api-integration/' %}active{% endif %}">
             API Guide
          </a>
        </li>

        <li>
          <a href="{{ '/case-studies/Postman_APIs/' | relative_url }}"
             class="{% if page.url == '/case-studies/Postman_APIs/' %}active{% endif %}">
             Postman APIs
          </a>
        </li>
<!---        <li>
          <a href="{{ '/how-i-work/' | relative_url }}"
             class="{% if page.url == '/how-i-work/' %}active{% endif %}">
             How I Work
          </a>
        </li>
      </ul>

      <h3>Case Studies</h3>
      <ul>
        <li>
          <a href="{{ '/case-studies/' | relative_url }}"
             class="{% if page.url == '/case-studies/' %}active{% endif %}">
             Overview
          </a>
        </li>

        <li>
          <a href="{{ '/case-studies/api-integration/' | relative_url }}"
             class="{% if page.url == '/case-studies/api-integration/' %}active{% endif %}">
             API Integration
          </a>
        </li>

        <li>
          <a href="{{ '/case-studies/troubleshooting-guide/' | relative_url }}"
             class="{% if page.url == '/case-studies/troubleshooting-guide/' %}active{% endif %}">
             Troubleshooting Guide
          </a>
        </li>

        <li>
          <a href="{{ '/case-studies/template/' | relative_url }}"
             class="{% if page.url == '/case-studies/template/' %}active{% endif %}">
             Template
          </a>
        </li>  --->
      </ul>
    </nav>
    </div>

    <!-- Main Content -->
    <main class="content">
      {{ content }}
    </main>

    <!-- Table of Contents Sidebar -->
    <aside class="toc-sidebar" id="toc-sidebar">
      <h4>On This Page</h4>
      <nav class="toc-nav" id="toc-nav">
        <!-- TOC will be generated by JavaScript -->
      </nav>
    </aside>

  </div>

  <!-- Auto-generate Table of Contents -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const content = document.querySelector('.content');
      const tocNav = document.getElementById('toc-nav');
      const tocSidebar = document.getElementById('toc-sidebar');

      if (!content || !tocNav) return;

      const headings = content.querySelectorAll('h2, h3');

      if (headings.length === 0) {
        tocSidebar.style.display = 'none';
        return;
      }

      const tocList = document.createElement('ul');
      tocList.className = 'toc-list';

      headings.forEach((heading, index) => {
        const id = heading.id || `heading-${index}`;
        heading.id = id;

        const li = document.createElement('li');
        li.className = heading.tagName.toLowerCase() === 'h3' ? 'toc-item toc-item-h3' : 'toc-item';

        const link = document.createElement('a');
        link.href = `#${id}`;
        link.textContent = heading.textContent;
        link.className = 'toc-link';

        li.appendChild(link);
        tocList.appendChild(li);
      });

      tocNav.appendChild(tocList);

      // Smooth scroll for TOC links
      tocNav.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          const targetId = this.getAttribute('href').slice(1);
          const targetElement = document.getElementById(targetId);
          if (targetElement) {
            targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }
        });
      });
    });
  </script>

</body>
</html>
